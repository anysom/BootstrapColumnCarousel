!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.GCCarousel=t()}(this,function(){"use strict";var e=window._;return e||(e={throttle:function(e,t){var n=null;return function(){var i=this,r=arguments;null===n&&(n=setTimeout(function(){e.apply(i,r),n=null},t))}}}),function(t){function n(){if(g=z.querySelectorAll(".gcc-cell:not([data-gcc-ignore])"),!b)return void console.warn("Missing reference element - Grid Column Carousel!");r(),_&&l(),z.classList.add("initialized");var t=window.innerWidth;window.addEventListener("resize",e.throttle(function(){var e=window.innerWidth;e!==t&&(t=e,s())},w,{leading:!0})),y&&o()}function i(){T.slide("first"),b.remove(),clearInterval(v),y&&o(),n()}function r(){m=b.getBoundingClientRect().width;for(var e=0;e<g.length;e++)g[e].style.width=m+"px";h=p.getBoundingClientRect().width+20,k=Math.ceil(g.length/(h/m))}function a(e){for(var t=e.parentNode.childNodes,n=0;n<t.length&&e!==t[n];n++);return n}function l(){for(;E.firstChild;)E.firstChild.removeEventListener("click",f),E.removeChild(E.firstChild);for(var e=0;e<k;e++){var t=document.createElement("li");t.classList.add("grid-column-carousel__page-indicator"),0===e&&t.classList.add("active"),t.addEventListener("click",f),E.appendChild(t)}}function s(){r(),_&&l(),T.slide("first")}function o(){x&&clearTimeout(x),x=setTimeout(function(){T.slide("next"),x=null},C)}function c(e){L=e,z.style.WebkitTransform="translateX("+e+"px)",z.style.msTransform="translateX("+e+"px)",z.style.transform="translateX("+e+"px)"}function u(e){e<0?e=k-1:e>=k&&(e=0),_&&(E.getElementsByClassName("active")[0].classList.remove("active"),E.getElementsByClassName("grid-column-carousel__page-indicator")[e].classList.add("active")),I=e,y&&o(),c(0===e?0:e*h*-1)}function d(e){var t=h/m,n=Math.floor(e/t);u(n)}function f(e){u(a(e.currentTarget))}var m,h,v,g,p=t.elem||null,y=((t.gridColClasses||"").split(" "),t.autoplay||!1),C=t.autoplayDelay||5e3,w=t.throttleDelay||50,_="undefined"==typeof t.displayPageIndicators||t.displayPageIndicators,E=t.pageIndicatorsContainerElem||p.getElementsByClassName("grid-column-carousel__page-indicators")[0],b=t.referenceElement||p.querySelector("grid-column-carousel__ref"),x=null,L=0,k=0,I=0,T=this,z=p.querySelector(".grid-column-carousel__list");n(),this.slide=function(e){if("number"==typeof e)return void d(e);switch(e){case"first":u(0);break;case"last":u(k-1);break;case"next":u(I+1);break;case"prev":u(I-1);break;default:u(0)}},this.startWatchManualResize=function(e){v=setInterval(s,w),e&&"number"==typeof e&&setTimeout(function(){clearInterval(v)},e)},this.endWatchManualResize=function(){clearInterval(v)},this.recalculateSize=s,this.reinitialize=i}});