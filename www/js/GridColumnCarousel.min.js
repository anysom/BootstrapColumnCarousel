!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.GCCarousel=t()}(this,function(){"use strict";var e=window._;return e||(e={throttle:function(e,t){var n=null;return function(){var i=this,a=arguments;null===n&&(n=setTimeout(function(){e.apply(i,a),n=null},t))}}}),function(t){function n(){if(h=z.querySelectorAll(".gcc-cell:not([data-gcc-ignore])"),!b)return void console.warn("Missing reference element - Grid Column Carousel!");if(a(),I&&l(),z.classList.add("initialized"),window.Hammer){N=new Hammer(z),N.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL});var t=0,n=function(e){var t=Math.round(e/v)*-1;d(t),console.log("snapInPosition",t)};N.on("panstart",function(e){if(!(E<=1)){z.classList.add("disable-transition");var n=z.style.transform;"string"==typeof n&&(""===n?n=0:(n=n.substr(n.indexOf("(")+1,n.indexOf("p")-n.indexOf("(")-1),n=parseInt(n))),t=n}}),N.on("panmove",function(e){if(!(E<=1)){var n=t+e.deltaX;c(n)}}),N.on("panend",function(e){if(!(E<=1)){var i=t+e.deltaX;z.classList.remove("disable-transition"),n(i)}})}var i=window.innerWidth;window.addEventListener("resize",e.throttle(function(){var e=window.innerWidth;e!==i&&(i=e,o())},C,{leading:!0})),y&&s()}function i(){k.slide("first"),b.remove(),clearInterval(p),y&&s(),n()}function a(){m=b.getBoundingClientRect().width;for(var e=0;e<h.length;e++)h[e].style.width=m+"px";v=g.getBoundingClientRect().width+20,E=Math.ceil(h.length/(v/m))}function r(e){for(var t=e.parentNode.childNodes,n=0;n<t.length&&e!==t[n];n++);return n}function l(){for(;_.firstChild;)_.firstChild.removeEventListener("click",f),_.removeChild(_.firstChild);for(var e=0;e<E;e++){var t=document.createElement("li");t.classList.add("grid-column-carousel__page-indicator"),0===e&&t.classList.add("active"),t.addEventListener("click",f),_.appendChild(t)}}function o(){a(),I&&l(),k.slide("first")}function s(){x&&clearTimeout(x),x=setTimeout(function(){k.slide("next"),x=null},w)}function c(e){L=e,z.style.WebkitTransform="translateX("+e+"px)",z.style.msTransform="translateX("+e+"px)",z.style.transform="translateX("+e+"px)"}function d(e){null!=N?e<0?e=0:e>=E&&(e=E-1):e<0?e=E-1:e>=E&&(e=0),I&&(_.getElementsByClassName("active")[0].classList.remove("active"),_.getElementsByClassName("grid-column-carousel__page-indicator")[e].classList.add("active")),T=e,y&&s(),c(0===e?0:e*v*-1)}function u(e){var t=v/m,n=Math.floor(e/t);d(n)}function f(e){d(r(e.currentTarget))}var m,v,p,h,g=t.elem||null,y=t.autoplay||!1,w=t.autoplayDelay||5e3,C=t.throttleDelay||50,I="undefined"==typeof t.displayPageIndicators||t.displayPageIndicators,_=t.pageIndicatorsContainerElem||g.getElementsByClassName("grid-column-carousel__page-indicators")[0],b=t.referenceElement||g.querySelector("grid-column-carousel__ref"),x=null,L=0,E=0,T=0,k=this,N=null,z=g.querySelector(".grid-column-carousel__list");n(),this.slide=function(e){if("number"==typeof e)return void u(e);switch(e){case"first":d(0);break;case"last":d(E-1);break;case"next":d(T+1);break;case"prev":d(T-1);break;default:d(0)}},this.startWatchManualResize=function(e){p=setInterval(o,C),e&&"number"==typeof e&&setTimeout(function(){clearInterval(p)},e)},this.endWatchManualResize=function(){clearInterval(p)},this.recalculateSize=o,this.reinitialize=i}});